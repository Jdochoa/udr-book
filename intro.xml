<!DOCTYPE chapter>
<preface xmlns="http://docbook.org/ns/docbook" version="5.0" xml:id="intro" xml:lang="ru">
    <info>
        <title>Введение</title>
    </info>
    <para>В Firebird уже достаточно давно существует возможность расширения возможностей языка PSQL
        с помощью написания внешних функций — UDF (User Defined Functions). UDF можно писать
        практически на любом компилируемом языке программирования.</para>
    <para>В Firebird 3.0 была введена плагинная архитектура для расширения возможностей Firebird.
        Одним из таких плагинов является External Engine (внешние движки). Механизм UDR (User
        Defined Routines — определяемые пользователем подпрограммы) добавляет слой поверх интерфейса
        движка FirebirdExternal. UDR имеют следующие преимущества по сравнению с UDF: <itemizedlist>
            <listitem>
                <para>можно писать не только функции возвращающие скалярный результат, но и хранимые
                    процедуры (как выполняемые, так и селективные), а так же триггеры;</para>
            </listitem>
            <listitem>
                <para>улучшенный контроль входных и выходных параметров. В ряде случаев (передача по
                    дескриптору) типы и другие свойства входных параметров вообще не
                    контроллировались, однако вы могли получить эти свойства внутри UDF. UDR
                    предоставляют более унфицированный способ объявления входных и выходных
                    параметров, так как это делается в случае с обычными PSQL функциями и
                    процедурами;</para>
            </listitem>
            <listitem>
                <para>UDR предоставляют получить контекст текущего соединения или транзакции для
                    того чтобы выполнять некоторые манипуляции с текущей базой данных в этом
                    контексте;</para>
            </listitem>
            <listitem>
                <para>внешние процедуры и функции (UDR) можно группировать в PSQL пакетах;</para>
            </listitem>
            <listitem>
                <para>UDR могут быть написаны на любом языке программирования (необязательно
                    компилируемые в объектные коды), для этого необходимо чтобы был написан
                    соответсвующий External Engine плагин. Например, существуют плагины для
                    написания внешних модулей на Java или на любом из .NET языков.</para>
            </listitem>
        </itemizedlist></para>

    <para>В данном рукодовдстве мы раскажем как объявлять UDR, о их внутренних механизмах,
        возможностях и приведём примеры написания UDR на языке Pascal. Кроме того, будут затронуты
        некоторые аспекты использования нового объектно-оринтированного API.</para>

    <para>Далее в различных главах этого руководства при упортреблении терминов внешняя процедура,
        функция или тригер мы будем иметь ввиду именно UDR (а не UDF).</para>
    
    <note>
        <para>Все наши примены работают на Delphi 2009 и старше, а так же на Free Pascal. Все примеры
            могут быть скомпилированы как в Delphi, так и в Free Pascal, если это не оговорено отдельно.</para>
    </note>
</preface>
